/* This file has been autogenerated from generate-spy.ts.
 * Regenerate with "npm run generate-spy", DO NOT EDIT THIS FILE!
 */
import { match, SinonMatcher } from "sinon";
import { ServiceSpy } from "..";
import { HTTPMethod } from "../../../interfaces";
import { decorateSpy, verifyOnlyOneCall } from "../decorate";

export interface ISpyDecoration {
  with(matcher: SinonMatcher): ServiceSpy;
  withMethod(method: HTTPMethod): ServiceSpy;
  postRequestHost(matcher?: SinonMatcher): string;
  postRequestBody(matcher?: SinonMatcher): any;
  postResponseBody(matcher?: SinonMatcher): any;
  getRequestHost(matcher?: SinonMatcher): string;
  getRequestBody(matcher?: SinonMatcher): any;
  getResponseBody(matcher?: SinonMatcher): any;
  putRequestHost(matcher?: SinonMatcher): string;
  putRequestBody(matcher?: SinonMatcher): any;
  putResponseBody(matcher?: SinonMatcher): any;
  deleteRequestHost(matcher?: SinonMatcher): string;
  deleteRequestBody(matcher?: SinonMatcher): any;
  deleteResponseBody(matcher?: SinonMatcher): any;
}

export const decorators = {
  with(this: ServiceSpy, matcher: SinonMatcher): ServiceSpy {
    return decorateSpy(this.withArgs(matcher));
  },
  withMethod(this: ServiceSpy, method: HTTPMethod): ServiceSpy {
    return this.with(match({ method }));
  },
  postRequestHost(this: ServiceSpy, matcher?: SinonMatcher): string {
    const methodMatcher = match({ method: "post" });
    const fullMatcher = matcher ? methodMatcher.and(matcher) : methodMatcher;
    const spyWithMatcher = this.with(fullMatcher);
    verifyOnlyOneCall({ spy: spyWithMatcher, errPrefix: "postHost" });
    return spyWithMatcher.firstCall.args[0].host;
  },
  postRequestBody(this: ServiceSpy, matcher?: SinonMatcher): any {
    const methodMatcher = match({ method: "post" });
    const fullMatcher = matcher ? methodMatcher.and(matcher) : methodMatcher;
    const spyWithMatcher = this.with(fullMatcher);
    verifyOnlyOneCall({ spy: spyWithMatcher, errPrefix: "postRequestBody" });
    return spyWithMatcher.firstCall.args[0].body;
  },
  postResponseBody(this: ServiceSpy, matcher?: SinonMatcher): any {
    const methodMatcher = match({ method: "post" });
    const fullMatcher = matcher ? methodMatcher.and(matcher) : methodMatcher;
    const spyWithMatcher = this.with(fullMatcher);
    verifyOnlyOneCall({ spy: spyWithMatcher, errPrefix: "postResponseBody" });
    return spyWithMatcher.firstCall.returnValue.body;
  },
  getRequestHost(this: ServiceSpy, matcher?: SinonMatcher): string {
    const methodMatcher = match({ method: "get" });
    const fullMatcher = matcher ? methodMatcher.and(matcher) : methodMatcher;
    const spyWithMatcher = this.with(fullMatcher);
    verifyOnlyOneCall({ spy: spyWithMatcher, errPrefix: "getHost" });
    return spyWithMatcher.firstCall.args[0].host;
  },
  getRequestBody(this: ServiceSpy, matcher?: SinonMatcher): any {
    const methodMatcher = match({ method: "get" });
    const fullMatcher = matcher ? methodMatcher.and(matcher) : methodMatcher;
    const spyWithMatcher = this.with(fullMatcher);
    verifyOnlyOneCall({ spy: spyWithMatcher, errPrefix: "getRequestBody" });
    return spyWithMatcher.firstCall.args[0].body;
  },
  getResponseBody(this: ServiceSpy, matcher?: SinonMatcher): any {
    const methodMatcher = match({ method: "get" });
    const fullMatcher = matcher ? methodMatcher.and(matcher) : methodMatcher;
    const spyWithMatcher = this.with(fullMatcher);
    verifyOnlyOneCall({ spy: spyWithMatcher, errPrefix: "getResponseBody" });
    return spyWithMatcher.firstCall.returnValue.body;
  },
  putRequestHost(this: ServiceSpy, matcher?: SinonMatcher): string {
    const methodMatcher = match({ method: "put" });
    const fullMatcher = matcher ? methodMatcher.and(matcher) : methodMatcher;
    const spyWithMatcher = this.with(fullMatcher);
    verifyOnlyOneCall({ spy: spyWithMatcher, errPrefix: "putHost" });
    return spyWithMatcher.firstCall.args[0].host;
  },
  putRequestBody(this: ServiceSpy, matcher?: SinonMatcher): any {
    const methodMatcher = match({ method: "put" });
    const fullMatcher = matcher ? methodMatcher.and(matcher) : methodMatcher;
    const spyWithMatcher = this.with(fullMatcher);
    verifyOnlyOneCall({ spy: spyWithMatcher, errPrefix: "putRequestBody" });
    return spyWithMatcher.firstCall.args[0].body;
  },
  putResponseBody(this: ServiceSpy, matcher?: SinonMatcher): any {
    const methodMatcher = match({ method: "put" });
    const fullMatcher = matcher ? methodMatcher.and(matcher) : methodMatcher;
    const spyWithMatcher = this.with(fullMatcher);
    verifyOnlyOneCall({ spy: spyWithMatcher, errPrefix: "putResponseBody" });
    return spyWithMatcher.firstCall.returnValue.body;
  },
  deleteRequestHost(this: ServiceSpy, matcher?: SinonMatcher): string {
    const methodMatcher = match({ method: "delete" });
    const fullMatcher = matcher ? methodMatcher.and(matcher) : methodMatcher;
    const spyWithMatcher = this.with(fullMatcher);
    verifyOnlyOneCall({ spy: spyWithMatcher, errPrefix: "deleteHost" });
    return spyWithMatcher.firstCall.args[0].host;
  },
  deleteRequestBody(this: ServiceSpy, matcher?: SinonMatcher): any {
    const methodMatcher = match({ method: "delete" });
    const fullMatcher = matcher ? methodMatcher.and(matcher) : methodMatcher;
    const spyWithMatcher = this.with(fullMatcher);
    verifyOnlyOneCall({ spy: spyWithMatcher, errPrefix: "deleteRequestBody" });
    return spyWithMatcher.firstCall.args[0].body;
  },
  deleteResponseBody(this: ServiceSpy, matcher?: SinonMatcher): any {
    const methodMatcher = match({ method: "delete" });
    const fullMatcher = matcher ? methodMatcher.and(matcher) : methodMatcher;
    const spyWithMatcher = this.with(fullMatcher);
    verifyOnlyOneCall({ spy: spyWithMatcher, errPrefix: "deleteResponseBody" });
    return spyWithMatcher.firstCall.returnValue.body;
  },
};
